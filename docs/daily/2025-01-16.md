# 2025-01-16 ì‘ì—… ì¼ì§€

## ğŸ’» ì˜¤ëŠ˜ êµ¬í˜„í•œ ê²ƒ
### 1. SignInScreen
- InputField ì»´í¬ë„ŒíŠ¸ í™œìš© ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ í•„ë“œ ì¶”ê°€
  - InputFieldë¥¼ ë°˜ì‘í˜•ìœ¼ë¡œ ìˆ˜ì •
- ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸ í™œìš© ë¡œê·¸ì¸ ë²„íŠ¼ ì¶”ê°€
- ì†Œì…œ ë¡œê·¸ì¸ ë²„íŠ¼(Google, Facebook) ì¶”ê°€
- FlowRowë¥¼ ì‚¬ìš©í•œ í…ìŠ¤íŠ¸ ìë™ ì¤„ë°”ê¿ˆ


### 2. SignUpScreen
- íšŒì›ê°€ì… í¼ êµ¬í˜„ (ì´ë¦„, ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸, ë¹„ë°€ë²ˆí˜¸ í™•ì¸)
- Terms & Conditions ì²´í¬ë°•ìŠ¤ ì»¤ìŠ¤í…€ êµ¬í˜„
- ì†Œì…œ ë¡œê·¸ì¸ ë²„íŠ¼ì— ê·¸ë¦¼ì íš¨ê³¼ ì ìš©
- BigButton ì»´í¬ë„ŒíŠ¸ì— enabled ì†ì„± ì¶”ê°€


## ğŸ” ê²ªì€ ì‹œí–‰ì°©ì˜¤ì™€ í•´ê²° ê³¼ì •

### 1. ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ ì´ìŠˆ
**ë¬¸ì œ ìƒí™©**
- í°íŠ¸ í¬ê¸°ê°€ ì»¤ì§ˆ ë•Œ(180%, 200%) í…ìŠ¤íŠ¸ê°€ ì˜ë¦¬ê±°ë‚˜ ë ˆì´ì•„ì›ƒì´ ê¹¨ì§€ëŠ” í˜„ìƒ
- InputFieldì˜ ê³ ì • widthë¡œ ì¸í•œ í™”ë©´ í¬ê¸° ëŒ€ì‘ ë¬¸ì œ
**í•´ê²° ê³¼ì •**
-InputFieldì˜ ê³ ì • widthë¥¼ fillMaxWidthë¡œ ë³€ê²½í•˜ì—¬ ë°˜ì‘í˜•ìœ¼ë¡œ ìˆ˜ì •
- FlowRowë¥¼ ì‚¬ìš©í•˜ì—¬ Sign up ë§í¬ í…ìŠ¤íŠ¸ê°€ ìë™ìœ¼ë¡œ ì¤„ë°”ê¿ˆë˜ë„ë¡ êµ¬í˜„
- í°íŠ¸ í¬ê¸° ë³€í™”ì— ë”°ë¥¸ ë ˆì´ì•„ì›ƒ í…ŒìŠ¤íŠ¸ ë° ëŒ€ì‘

### 2. ì†Œì…œ ë¡œê·¸ì¸ ë²„íŠ¼ ìŠ¤íƒ€ì¼ë§ ì´ìŠˆ
**ë¬¸ì œ ìƒí™©**
- ì†Œì…œ ë¡œê·¸ì¸ ë²„íŠ¼ì˜ ê·¸ë¦¼ì íš¨ê³¼ê°€ ë””ìì¸ ëª…ì„¸ì™€ ë‹¬ëìŒ
- SVG ì•„ì´ì½˜ì„ Vector Drawableë¡œ ë³€í™˜í•˜ì—¬ ì‚¬ìš©í•˜ëŠ” ê³¼ì •ì˜ ì–´ë ¤ì›€
**í•´ê²° ê³¼ì •**
- shadow ìˆ˜ì •ìì˜ ì†ì„±ì„ ì¡°ì •í•˜ì—¬ ë””ìì¸ê³¼ ì¼ì¹˜í•˜ëŠ” ê·¸ë¦¼ì íš¨ê³¼ êµ¬í˜„
- SVG íŒŒì¼ì„ Android Vector Drawableë¡œ ì ì ˆíˆ ë³€í™˜í•˜ì—¬ ì ìš©


## ğŸ“š ë°°ìš´ ì 

### 1. ë°˜ì‘í˜• UI êµ¬í˜„
- fillMaxWidthì™€ ê°™ì€ ë™ì  í¬ê¸° ì„¤ì •ì˜ ì¤‘ìš”ì„±
- FlowRowë¥¼ í™œìš©í•œ ìœ ì—°í•œ ë ˆì´ì•„ì›ƒ êµ¬ì„±
- ë‹¤ì–‘í•œ í™”ë©´ í¬ê¸°ì™€ í°íŠ¸ í¬ê¸° ëŒ€ì‘ ë°©ë²•

### 2. ì»´í¬ì €ë¸” ìƒíƒœ ê´€ë¦¬
- ìƒíƒœë¥¼ ì™¸ë¶€ë¡œ ë¶„ë¦¬í•˜ì—¬ ê´€ë¦¬í•˜ëŠ” íŒ¨í„´
- enabled ì†ì„±ì„ í†µí•œ ë²„íŠ¼ ìƒíƒœ ì œì–´
- ì½œë°±ì„ í™œìš©í•œ ì´ë²¤íŠ¸ ì²˜ë¦¬

### 3. ì»¤ìŠ¤í…€ UI êµ¬í˜„
- ì²´í¬ë°•ìŠ¤ ì»¤ìŠ¤í„°ë§ˆì´ì§•
- ê·¸ë¦¼ì íš¨ê³¼ êµ¬í˜„
- SVG ì•„ì´ì½˜ í™œìš© ë°©ë²•

## ğŸ¯ ë‹¤ìŒ ì‘ì—…
- [ ] BigButtonê³¼ MediumButtonì˜ í„°ì¹˜ ìƒíƒœ ì²˜ë¦¬ ê°œì„ 
- [ ] ê° ì»´í¬ë„ŒíŠ¸ì˜ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±
- [ ] ì ‘ê·¼ì„± ê°œì„  (í¬ì»¤ìŠ¤ ì²˜ë¦¬, í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜)
- [ ] UI ìƒíƒœ ê´€ë¦¬ ë¡œì§ êµ¬í˜„ (ViewModel ì—°ë™)

## ğŸ“ ì˜¤ëŠ˜ì˜ í•™ìŠµ
### Flow
- ì–´ì œ ë³¸ StateëŠ” ì»´í¬ì¦ˆì—ì„œë§Œ ì“¸ ìˆ˜ ìˆì§€, ì¼ë°˜ ì½”í‹€ë¦°ì—ì„œëŠ” ì“¸ ìˆ˜ ì—†ìŒ.
- FlowëŠ” ì½”í‹€ë¦° ê³µì‹ ë¹„ë™ê¸° APIì´ë‹¤.
- LiveDataëŠ” ì•ˆë“œë¡œì´ë“œì˜ Life Cycleê³¼ ê¹Šê²Œ ì—°ê´€ë˜ì–´ ìˆëŠ” ë°˜ë©´ FlowëŠ” ìˆœìˆ˜ ì½”í‹€ë¦° API
- ì½”ë£¨í‹´ì—ì„œ ë°ì´í„° ìˆ˜ì§‘ì´ ê°€ëŠ¥

#### ë‹¨ì¼ ê°’ vs ì—¬ëŸ¬ ê°’

```kotlin
// ë‹¨ì¼ ê°’ ë°˜í™˜
suspend fun getUser(): User

// ì—¬ëŸ¬ ê°’ì„ ìˆœì°¨ì ìœ¼ë¡œ ë°©ì¶œ
fun getUpdates(): Flow<Update>
```

- FlowëŠ” **ë¹„ë™ê¸°**ì ìœ¼ë¡œ ê³„ì‚°ë˜ëŠ” ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì´ë‹¤.
- ì½”ë£¨í‹´ì„ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•œë‹¤.
- ì—¬ëŸ¬ ê°’ì„ ìˆœì°¨ì ìœ¼ë¡œ ë°©ì¶œí•  ìˆ˜ ìˆë‹¤.
- Cold Stream ë°©ì‹ì´ë‹¤.(ìˆ˜ì§‘í•˜ëŠ” ì‹œì ì— ë°ì´í„° ìƒì„±)
  - Cold Streamê³¼ Hot Streamì´ ìˆë‹¤.
  - ColdëŠ” ë°ì´í„°ê°€ ì˜¬ê±´ë° ë©ˆì¶°ìˆë‹¤. ì£¼ì„¸ìš” í•˜ë©´ ë°ì´í„° ì˜¤ëŠ” ê²ƒì´ë‹¤.
  - Hotì€ ë°ì´í„° ì›í•˜ëŠ” ì‚¬ëŒ ì—†ì–´ë„ ê³„ì† ì—…ë°ì´íŠ¸ ë˜ëŠ” ê²ƒì´ë‹¤.


#### flow() ë¹Œë”

```kotlin
// ê²Œì„ ìºë¦­í„° ìƒíƒœ ë³€í™”ë¥¼ Flowë¡œ í‘œí˜„
class GameCharacter(val name: String) {
// ë ˆë²¨ì—… ì´ë²¤íŠ¸ ë°œìƒì‹œí‚¤ëŠ” Flow
	fun experienceFlow() = flow {
		var level = 1
		while (level <= 5) {
			delay(1000) // 1ì´ˆë§ˆë‹¤ ë ˆë²¨ì—…
			emit(level++)
		}
	}
}

//HP ë³€í™” ë°œìƒì‹œí‚¤ëŠ” Flow
	fun hpFlow() = flow {
		var hp = 100
		while (hp > 0) {
			delay(500) //0.5ì´ˆë§ˆë‹¤ HPê°ì†Œ
			hp -= 10
			emit(hp)
		}
	}
```

- flow ë¹Œë”ëŠ” ì½”ë£¨í‹´ì„ ì‚¬ìš©í•˜ì—¬ ë¹„ë™ê¸° ìŠ¤íŠ¸ë¦¼ì„ ìƒì„±í•˜ëŠ”ë° ì‚¬ìš©ë¨
- emit() : Flow ë‚´ì—ì„œ ê°’ì„ ë°©ì¶œí•  ë•Œ ì‚¬ìš©
- flow ë¹Œë” ë‚´ì—ì„œ suspend í•¨ìˆ˜ ì‚¬ìš© ê°€ëŠ¥

#### 1. ê¸°ë³¸ Flow ìƒì„±ê³¼ ìˆ˜ì§‘(collect)ì˜ˆì œ

```kotlin
val basicFlow = flow {
	for (i in 1..3) {
		delay(100)
		println("Emitting $i")
		emit(i)
	}
}

basicFlow.collect { value ->
	println("Collected: $value")
}
```

- collect() : Flowì˜ ê°’ì„ ì†Œë¹„í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” í•¨ìˆ˜

  collectí•¨ìˆ˜ë¡œ ë°ì´í„° ìˆ˜ì§‘ ì‹œì‘(â€ì•Œë ¤ì£¼ì„¸ìš”~â€).  collectí•¨ìˆ˜ëŠ” ì½”ë£¨í‹´ ë‚´ì—ì„œ ë™ì‘.

  ë¦¬ìŠ¤íŠ¸ë‘ ë˜‘ê°™ë‹¤~ ë˜‘ê°™ì€ë° collectë¡œ ìˆ˜ì§‘í•œë‹¤~~ ìƒê°í•˜ë©´ ëœë‹¤. ë¦¬ìŠ¤íŠ¸ ì•ˆì— ìˆëŠ” í•¨ìˆ˜ ë‹¤ ìˆìŒ.

- Flow ëŠ” collect() ë˜ëŠ” ì‹œì ì— ê°’ì´ ë°©ì¶œ ë¨ (Cold)

#### 2. Flow ë¹Œë” ì˜ˆì œ

```kotlin
flowOf(1, 2, 3).collect { println("flowOf: $it") }
(1..3).asFlow().collect { println("asFlow: $it") }
```

- ì»¬ë ‰ì…˜ì„ Flowë¡œ ë°”ê¾¸ëŠ” ë°©ë²•ì€ **asFlow()** ë¡œ ì‰½ê²Œ ê°€ëŠ¥í•˜ë‹¤
- **flowOf()** ë¡œë„ ê°„ë‹¨íˆ ë§Œë“¤ ìˆ˜ ìˆë‹¤

#### 3. Flow ì—°ì‚°ì ì˜ˆì œ

```kotlin
flow {
	emit(1)
	emit(2)
	emit(3)
}.map { it * 2 }
		.filter{ it > 2 }
		.collect { println("Transformed: $it") }
```

#### 4. Flow í•©ì¹˜ê¸°: Zip ì—°ì‚°ì

```kotlin
val flow1 = flowOf("A", "B", "C")
val flow2 = flowOf(1, 2, 3)

flow1.zip(flow2) { number, letter -> "$number $letter" }
		.collect { value -> println("Zipped: $value") } // 1 A, 2 B, 3 C
```

- ë‘ ê°œ ì´ìƒì˜ Flowë¥¼ ê²°í•©í•˜ì—¬ ìƒˆë¡œìš´ Flowë¥¼ ìƒì„±í•˜ëŠ”ë° ì‚¬ìš©ë˜ëŠ” ì—°ì‚°ì
- ê° Flowì—ì„œ ë°©ì¶œëœ ê°’ì„ ìŒìœ¼ë¡œ ë¬¶ì–´ ìƒˆë¡œìš´ ê°’ì„ ìƒì„±
- ë‘ ê°œì˜ Flow ê°€ ëª¨ë‘ ê°’ì„ ë°©ì¶œí•  ë•Œë§ˆë‹¤ í˜¸ì¶œ

#### 4-1. Flowí•©ì¹˜ê¸°: Combine ì—°ì‚°ì

```kotlin
fun main() = runBlocking {
	val flow1 = flowOf(1, 2, 3).onEach { delay(100) } // 0.1ì´ˆ ëŒ€ê¸°
	val flow2 = flowOf("A", "B", "C").onEach { delay(200) } // 0.2ì´ˆ ëŒ€ê¸°
	
	flow1.combine(flow2) { number, letter -> "$number $letter" }
			.collect { value -> println(value) } // 1 A, 2 A, 2 B, 3 B, 3 C
}
```

**zip vs combine**

- zipì€ ëª¨ë“  flowê°€ ê°’ ë°©ì¶œí•´ì•¼ ìƒˆë¡œìš´ ê°’ ìƒì„±, ë°©ì¶œ ìˆœì„œ ë³´ì¥, ëª¨ë“  Flow ê°’ì´ í•„ìš”í•  ë•Œ ì“°ì¼ ìˆ˜ ìˆìŒ. (ë‘ê°œ API ê²°ê³¼ë¥¼ ë™ì‹œì— ê°€ì ¸ì™€ì•¼ í•  ë•Œ)
- combineì€ í•˜ë‚˜ì˜ flowê°€ ê°’ ë°©ì¶œí•  ë•Œë§ˆë‹¤ ê°€ì¥ ìµœê·¼ ê°’ ì‚¬ìš©í•˜ì—¬ ìƒˆë¡œìš´ ê°’ ìƒì„±, ë°©ì¶œ ìˆœì„œ ë³´ì¥ ëª»í•¨, ë°©ì¶œë  ë•Œë§ˆë‹¤ ë‹¤ë¥¸ Flowì˜ ìµœì‹  ê°’ ì‚¬ìš©í•˜ê³  ì‹¶ì„ ë•Œ(ì‹¤ì‹œê°„ ê²€ìƒ‰ì—ì„œ ì‚¬ìš©ì ì…ë ¥ê³¼ í•„í„°ë¥¼ ê²°í•©í•˜ê³ ì í•  ë•Œ)

#### 5. ì—ëŸ¬ ì²˜ë¦¬

```kotlin
flow {
	emit(1)
	throw RuntimeException("ì—ëŸ¬ ë°œìƒ")
}.catch { e ->
	println("ì—ëŸ¬ ìºì¹˜: ${e.message})
	emit(-1)
}.onCompletion { cause ->
	println("ì™„ë£Œ${cause?.let { ": ${it.message}" } ?: ""}")
}.collect { println("ê°’: $it") }
```

- catch : ì—ëŸ¬ë¥¼ ìºì¹˜í•  ìˆ˜ ìˆë‹¤.
- onCompletion : Flow ì˜ ìˆ˜ì§‘ì´ ì™„ë£Œë˜ì—ˆì„ ë•Œ ì‹¤í–‰í•  ì‘ì—…ì„ ì •ì˜. ìˆ˜ì§‘ ì¤‘ì— ë°œìƒí•œ ì˜ˆì™¸ ì •ë³´ë„ ì „ë‹¬ë°›ì„ ìˆ˜ ìˆìŒ

#### 6. StateFlow ì˜ˆì œ

```kotlin
val stateFlow = MutableStateFlow(0)
val job = launch {
	stateFlow.collect { println("StateFlow: $it") }
}

delay(100)
stateFlow.value = 1
delay(100)
stateFlow.value = 2
delay(100)
job.cancel()
```

**StateFlow vs Flow**

- StateFlowëŠ” ì½”ë£¨í‹´ì—ì„œ ì œê³µí•˜ëŠ” íŠ¹ë³„í•œ í•«ìŠ¤íŠ¸ë¦¼Flowì´ë‹¤.
- flowëŠ” ì–˜ê¸°í•˜ë©´ ë‹¤ì‹œ ë“¤ì„ ì¼ì´ ì—†ëŠ”ê±°ë‹¤, collect í›„ í–ˆë˜ ì–˜ê¸°ë“¤ì´ ë‹¤ ì§€ì›Œì§„ë‹¤.
- stateFlowëŠ” ìƒíƒœ ë³€í™”ë¥¼ ê´€ì°°í•˜ê³  ë§ˆì§€ë§‰ **ìµœì‹  ìƒíƒœë¥¼ ìœ ì§€**í•˜ëŠ”ë°ì— ìœ ìš©í•˜ë‹¤. ì†Œë¹„ë˜ì§€ ì•Šê³  ë§ˆì§€ë§‰ ê°’ì´ ë‚¨ì•„ìˆìŒ. (ë§ˆì§€ë§‰í–ˆë˜ ì–˜ê¸°ë¥¼ ë§Œë‚˜ëŠ” ì‚¬ëŒë§ˆë‹¤ ë“£ë˜ì§€ ë§ë˜ì§€ ê³„ì† ì–˜ê¸°í•´ì£¼ëŠ”ê±°ë‹¤.)
- í™”ë©´ì— ë³´ì—¬ì§ˆ ë°ì´í„°ê°€ í•œë²ˆ ì½ì–´ì„œ ì†Œë¹„ë˜ê³  ì—†ì–´ì ¸ ë²„ë¦°ë‹¤í•˜ë©´ í™”ë©´ ëŒë¦¬ê³  ë‹¤ì‹œ ì™”ì„ ë•Œ ë°ì´í„°ë¥¼ ëª» ë³´ì—¬ì£¼ëŠ”ë°, stateFlowê°€ ì™œ ìœ ìš©í•˜ëƒë©´, ê³„ì† ë§ˆì§€ë§‰ ê²ƒì„ ìœ ì§€í•  ìˆ˜ ìˆëŠ” flowì´ë‹¤.
- Thread Safe
- StateFlowëŠ” ì½ê¸° ì „ìš©, ìƒíƒœ ë³€ê²½í•˜ë ¤ë©´ MutableStateFlowì‚¬ìš©.

ê²°ë¡  = stateëŠ” ì•ˆë“œë¡œì´ë“œì—ì„œë°–ì— ëª»ì“°ë‹ˆê¹Œ ë²”ìš©ì ìœ¼ë¡œ ì“°ë ¤ë©´ Kotlinì˜ flowì¨ì•¼í•œë‹¤.

Flowë¥¼ Stateë¡œ ë³€í™˜ í•´ì„œ composeì—ì„œ í™œìš© ê°€ëŠ¥í•˜ë‹¤.

#### 7. ë³‘ë ¬ ì²˜ë¦¬

```kotlin
(1..5).asFlow()
	.flatMapMerge { num ->
		flow {
			delay(100)
			emit("ì²˜ë¦¬ëœ $num")
		}
	}
	.collect { println(it) }
```

- flatMapMerge : ì—¬ëŸ¬ ê°œì˜ Flowë¥¼ ë³‘í•©í•˜ì—¬ ë‹¨ì¼ Flowë¡œ ë§Œë“œëŠ”ë° ì‚¬ìš©
- ë³‘ë ¬ ì²˜ë¦¬ë¥¼ ì§€ì›í•˜ì—¬, ì—¬ëŸ¬ Flow ì˜ ê²°ê³¼ë¥¼ ë™ì‹œì— ìˆ˜ì§‘
- ë°©ì¶œëœ ê°’ì˜ ìˆœì„œê°€ ë³´ì¥ë˜ì§€ ì•ŠëŠ”ë‹¤

#### 8. ì»¨í…ìŠ¤íŠ¸ ì „í™˜

```kotlin
flow {
	println("Flow: ${Thread.currentThread().name}")
	emit(1)
}.flowOn(Dispatchers.IO) // IOë””ìŠ¤íŒ¨ì²˜ ì§€ì •
	.collect {
		println("Collect: ${Thread.currentThread().name}")
		println("ê°’: $it")
	}
```

- flowOnì€ Flowì˜ ì—°ì‚°ì„ íŠ¹ì • ë””ìŠ¤íŒ¨ì²˜ì—ì„œ ì‹¤í–‰í•˜ë„ë¡ ì§€ì • ê°€ëŠ¥

#### 9. debounce ì˜ˆì œ

```kotlin
flow {
	emit("A")
	delay(100)
	emit("B")
	delay(90)
	emit("C")
	delay(110)
	emit("D")	
}.debounce(100)
	.collect { println("Debounced: $it") }
```

- debounce: ì´ë²¤íŠ¸ ìŠ¤íŠ¸ë¦¼ì—ì„œ ë¶ˆí•„ìš”í•œ ì´ë²¤íŠ¸ë¥¼ ì¤„ì´ê³ , ì„±ëŠ¥ì„ ìµœì í™”í•˜ëŠ”ë° ìœ ìš©í•˜ë‹¤.
- ì—°íƒ€ ë°©ì§€, API í˜¸ì¶œ íšŸì¶” ì»¨íŠ¸ë¡¤ ë“±ì— í™œìš©
  - 1ì´ˆì— 100ê°œ ë°ì´í„° ì˜¨ë‹¤ê³  100ê°œ ë‹¤ ë°›ì•„ì„œ UIë¥¼ ê·¸ë¦¬ëŠ”ê²Œ ì•„ë‹ˆë¼, íŠ¹ì •ì‹œê°„ë§ˆë‹¤ ê·¸ë ¤ì•¼ì§€ í•  ë•Œ debounceë¥¼ í™œìš© ê°€ëŠ¥.

---
### Androidì—ì„œì˜ Flow í™œìš© íŒ¨í„´

#### Flow ìŠ¤íŠ¸ë¦¼ ë°ì´í„°ë¥¼ ìˆ˜ì§‘

- collect ë˜ëŠ” collectLatest í•¨ìˆ˜ë¡œ ìˆ˜ì§‘
- suspend í•¨ìˆ˜ì´ë¯€ë¡œ ì½”ë£¨í‹´ ìŠ¤ì½”í”„ì—ì„œ ìˆ˜í–‰í•´ì•¼ í•¨

```kotlin
viewModelScope.launch {
	countFlow.collectLatest { count ->
		delay(1500)
		println(count)
	}
}
```

#### StateFlow

- StateFlowëŠ” ì´ˆê¸°ê°’ì´ í•„ìˆ˜, LiveDataëŠ” ì´ˆê¸°ê°’ì´ ì„ íƒì ì´ë‹¤
- ì‚¬ìš©ì²˜ì— í•„ìš”í•  ë•Œ ê°’ì„ ì–»ëŠ”ë‹¤
- ê°’ì´ ë³€ê²½ë  ë•Œë§Œ ì‚¬ìš©ì²˜ì— ê°’ì„ ì „ë‹¬í•¨
- value í”„ë¡œí¼í‹°ë¡œ ê°’ì„ get/set í•  ìˆ˜ ìˆë‹¤
- ì½ê¸° ì „ìš©ê³¼ ì“°ê¸° ê°€ëŠ¥í•œ StateFlow ì œê³µ

    ```kotlin
    private var _state = MutableStateFlow(MainState())
    val state: StateFlow<MainState> = _state
    ```

- Flowê°€ cold ìŠ¤íŠ¸ë¦¼ ì´ë¼ë©´, StateFlowëŠ” hot ìŠ¤íŠ¸ë¦¼
- UI ì‘ì—…ì„ ìœ„í•´ì„œëŠ” ë°ì´í„° í™€ë”ë¡œì¨ StateFlow ì‚¬ìš©ì´ ì¼ë°˜ì ì´ë‹¤
- LiveData ì™€ ê¸°ë³¸ì ìœ¼ë¡œ ì—­í• ì´ ë™ì¼

#### StateFlowì˜ ì†Œë¹„

(ë ˆê±°ì‹œ) Viewë‹¨ì—ì„œ ì†Œë¹„í•  ë•ŒëŠ” ì•ˆë“œë¡œì´ë“œì˜ ë¼ì´í”„ì‚¬ì´í´ì— ë§ëŠ” ì•ˆì „í•œ ì½”ë“œë¥¼ ì‘ì„±

```kotlin
// ë ˆê±°ì‹œ
lifecycleScope.launch {
	repeatOnLifecycle(Lifecycle.State.STARTED) {
		viewModel.state.collectLatest {
			...
		}
	}
}

// viewModelìŠ¤ì½”í”„ ë‚´ì—ì„œ ë¼ì´í”„ì‚¬ì´í´ ì‹ ê²½ì“°ì§€ ì•Šê³  ì•ˆì „í•˜ê²Œ ì†Œë¹„
viewModelScope.launch {
	viewModel.recipes.collectAsStateWithLifecycle {
	}
}
```

#### SharedFlow

- ì´ˆê¸°ê°’ì„ ê°€ì§€ì§€ ì•ŠëŠ”ë‹¤
- ë°ì´í„°ë¥¼ ì½ì–´ ë“¤ì´ê¸° ì „ì—ëŠ” ì•„ë¬´ê°’ë„ ì—†ëŠ” ë°ì´í„°ì— ì í•©í•˜ë‹¤
- repeat, extraBufferCapacity, onBufferOverflow ì •ì±…ì„ ìƒí™©ì— ë§ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤
- Flow ë¥¼ shareIn ìœ¼ë¡œ SharedFlowë¡œ ë³€í™˜ ê°€ëŠ¥í•˜ë‹¤
- **ì›íƒ€ì„ ì´ë²¤íŠ¸**ë¥¼ ì²˜ë¦¬í•  ë•Œ ìœ ìš©í•˜ë‹¤
  - ì—ëŸ¬ ì²˜ë¦¬ì‹œ í† ìŠ¤íŠ¸ ë©”ì‹œì§€ í‘œì‹œ

```kotlin
// ì½ê¸° ì „ìš©ê³¼ ì“°ê¸° ê°€ëŠ¥í•œ SharedFlow 
private val _event = MutableSharedFlow<MainEvent>()
val event: SharedFlow<MainEvent> = _event
```

#### SharedFlow ë°ì´í„° ì†Œë¹„

stateIn: Flow(Cold)ë¥¼ StateFlow(Hot)ë¡œ ë³€í™˜

```kotlin
// ìì£¼ ì‚¬ìš©ë˜ëŠ” íŒ¨í„´ ì½”ë“œ ì˜ˆì‹œ
class FlowViewModel: ViewModel() {
	private val repository = FlowRepository()
	val stateFlow: StateFlow<String> = repository.sharedFlow.map { value ->
		"Loaded: $value"
	}.stateIn(
		scope = viewModelScope,
		started = SharingStarted.WhileSubscribed(5000),
		initialValue = "Loading"
	)
	
	init {
		 viewModelScope.launch {
			 while (true) {
				 delay(1000)
				 repository.load()
			 }
		 }
	}
}
```

#### Flowë¥¼ Stateë¡œ ë³€í™˜

compose ì—ì„œ í™œìš©

```kotlin
// Flow ìƒì„±
val countDownFlow = flow {
	for (i in 10 downTo 1) {
		emit(i)
		delay(1000)
	}
}

@Composable
fun CountDownScreen() {
	// Flowë¥¼ Stateë¡œ ë³€í™˜
	val count by countDownFlow.collectAsState(initial = 10)
	
	// State ê°’ í‘œì‹œ
	Text(
		text = "$count"
		style = MaterialTheme.typography.displayLarge
	)
}
```

---

### Modifier
ì»´í¬ì¦ˆì—ì„œ UIìš”ì†Œì˜ í¬ê¸°, ë™ì‘, ëª¨ì–‘ ë“±ì„ ìˆ˜ì •í•˜ê³  ê¾¸ë¯¸ëŠ”ë° ì‚¬ìš©ëœë‹¤.

- UI ìš”ì†Œì˜ í¬ê¸°, íŒ¨ë”© ì„¤ì •
- ë°°ê²½ìƒ‰, í…Œë‘ë¦¬ ë“± ì‹œê°ì  ìŠ¤íƒ€ì¼ë§
- í´ë¦­, ìŠ¤í¬ë¡¤ ë“±ì˜ ì‚¬ìš©ì ìƒí˜¸ì‘ìš© ì²˜
- ìš”ì†Œ ë°°ì¹˜ì™€ ì •ë ¬ ë°©ì‹ ì„¤ì •

#### ê¸°ë³¸ ì‚¬ìš© ë°©ë²•

```kotlin
Text(
	text = "Hello World",
	modifier = Modifier
		.padding(16.dp) // íŒ¨ë”© ì¶”ê°€
		.background(Color.Gray) // ë°°ê²½ìƒ‰ ì„¤ì •
		.clickable {} // í´ë¦­ ì´ë²¤íŠ¸ ì¶”
)
```

#### Modifier íŠ¹ì§•

- ì²´ì´ë‹ ë°©ì‹: ì—¬ëŸ¬ Modifierë¥¼ ì (.)ìœ¼ë¡œ ì—°ê²°í•˜ì—¬ ì‚¬ìš©
- **ìˆœì„œ ì¤‘ìš”**: ìˆœì„œëŒ€ë¡œ ì‹¤í–‰ë˜ë‹ˆê¹Œ ìˆœì„œê°€ ì¤‘ìš”. ì ìš©ë˜ëŠ” ìˆœì„œì— ë”°ë¼ ë‹¤ë¥¸ ê²°ê³¼ê°€ ë‚˜íƒ€ë‚¨
- ì¬ì‚¬ìš© ê°€ëŠ¥: ë³€ìˆ˜ë‚˜ í•¨ìˆ˜ë¡œ ë§Œë“¤ì–´ ì¬ì‚¬ìš© ê°€ëŠ¥
- í™•ì¥ ê°€ëŠ¥: ì»¤ìŠ¤í…€ Modifier ìƒì„± ê°€ëŠ¥
- ì²´ì´ë‹ë°©ì‹

#### ì£¼ìš” Modifier

- í¬ê¸°: size, width, height, fillMaxSize
- ì—¬ë°±: padding, offset
- ìŠ¤íƒ€ì¼: background, border, alpha(íˆ¬ëª…ë„)
- ìƒí˜¸ì‘ìš©: clickable, scrollable
- ë ˆì´ì•„ì›ƒ: weight(ìƒìœ„ìš”ì†Œ ê¸°ì¤€ ë¹„), align

#### ì—¬ë°±, Window Inset

windowInsetí™œìš©í•´ì„œ status barë‚˜ í•˜ë‹¨ íƒìƒ‰ë°” ë®ì„ê±´ì§€ ì•ˆ ë®ì„ê±´ì§€ ì„¤ì •, ìŠ¤í¬ë¡¤ìœ„ì¹˜ ê¸°ì–µí•˜ëŠ” ì„¤ì •ë„ ê°€ëŠ¥.

ì•ˆë“œë¡œì´ë“œ15 ì´ìƒì—ì„œ ìƒíƒœí‘œì‹œì¤„, í•˜ë‹¨ íƒìƒ‰ë°”ê¹Œì§€ ê°€ë“ ì±„ìš°ê¸° ì ìš©í•˜ë ¤ë©´ SDK35 ì´ìƒ íƒ€ê²ŸíŒ…

`AndroidManifest.xml`ì—ì„œ `android:windowSoftInputMode="adjustResize"` ì„¤ì •

- **WindowInsets** í™œìš©
- ì‹œìŠ¤í…œ UI ê³ ë ¤í•œ spacing
- ë™ì  spacing ì²˜ë¦¬ ë°©ë²•

#### ëª¨ì–‘ ê´€ë ¨ Modifier

res-drawable ì•ˆì— ì´ë¯¸ì§€ ë„£ìœ¼ë©´ R.drawableë¡œ ì ‘ê·¼ ê°€ëŠ¥

ë¡œì»¬ì— ì €ì¥í•œ íŒŒì¼ ì½ì–´ì˜¬ ìˆ˜ ìˆë‹¤.

- ë‘¥ê·¼ ì´ë¯¸ì§€

    ```kotlin
    Image(
    	painter = painterResource(R.drawable.kermit),
    	contentDescription = null,
    	contentScale = ContentScale.Crop, // ìë¥´ê¸°
    	modifier = Modifier
    		.size(200.dp)
    		.clip(CircleShape) // ë‘¥ê·¼ ëª¨ì–‘
    )
    ```

- ëª¨ì„œë¦¬ êµ´ë¦¬ê¸°

    ```kotlin
    Image(
    	painter = painterResource(R.drawable.kermit),
    	contentDescription = null,
    	contentScale = ContentScale.Crop,
    	modifier = Modifier
    		.clip(RoundedCornerShape( // ëª¨ì„œ
    			topStartPercent = 50
    		))
    )
    ```


- ì—†ëŠ” ëª¨ì–‘ ë§Œë“œë ¤ë©´ ì§ì ‘ êµ¬í˜„

    ```kotlin
    data object TriangleShape: Shape {
    	// ì§ì ‘ êµ¬í˜„
    }
    ```


#### offsetê³¼ padding ì°¨ì´

- offset - ê·¸ë ¤ì§€ëŠ” ìœ„ì¹˜ ê¸°ì¤€ì  ì´ë™
- padding - ê·¸ë ¤ì§€ëŠ” ì˜ì—­ ë‚´ì—ì„œ ì½˜í…ì¸ ì˜ ì—¬

```kotlin
Text(
	text = "Hello world",
	modifier = Modifier
		.offset( // .padding
			x = 50.dp,
			y = 20.dp
		)
		.background(Color.Green)
)
```

#### ìœ ì € ì¸í„°ë ‰ì…˜

- ì¼ë°˜ í´ë¦­

    ```kotlin
    Box(
    	modifier = modifier
    		.size(100.dp)
    		.background(Color.white)
    		.clickable(
    			enabled = false // í´ë¦­ ë¹„í™œì„±í™”
    		) {
    		 println("Hello world")
    		},
    )
    ```

- ì‚¬ìš©ì ìƒí˜¸ì‘ìš©  ì²˜ë¦¬

  interactionSourceí™œìš© pressíš¨ê³¼ ë“±

  ComposeëŠ”Â `collectIsPressedAsState()`Â ì™¸ì—Â `collectIsFocusedAsState()`,Â `collectIsDraggedAsState()`,Â `collectIsHoveredAsState()`ë¥¼ ì œê³µ

    ```kotlin
    val interactionSource = remember { MutableInteractionSource() }
    val isPressed by interactionSource.collectIsPressedAsState()
    
    Button(
        onClick = { /* do something */ },
        interactionSource = interactionSource
    ) {
        Text(if (isPressed) "Pressed!" else "Not pressed")
    }
    ```

  - clickableê³¼ ì¡°í•©

    ```kotlin
    // This InteractionSource will emit hover, focus, and press interactions
    val interactionSource = remember { MutableInteractionSource() }
    Box(
        Modifier
            .size(100.dp)
            .clickable(
                onClick = {},
                interactionSource = interactionSource, // ì—¬ê¸°
    
                // Also show a ripple effect
                indication = ripple()
            ),
        contentAlignment = Alignment.Center
    ) {
        Text("Hello!")
    }
    ```

- í¬ì»¤ìŠ¤
  - íŠ¹ì • TextFieldì— í¬ì»¤ìŠ¤ ì£¼ê¸°

    focus managerë¡œ í¬ì»¤ìŠ¤ ì–´ë””ì— ë‘˜ê±´ì§€, ìˆœì„œë„ ì¡°ì‘ë„ ê°€ëŠ¥


    ```kotlin
    val focusRequester = remember {
    	FocusRequester()
    }
    
    TextField(
    	value = "",
    	onValueChange = {},
    	modifier = Modifier
    		.focusRequester(focusRequester)
    )
    
    Button(
    	onClick = {
    		focusRequester.requestFocus()
    	}
    )
    ```
    
    - í‚¤ë³´ë“œ ì¸ë²¤íŠ¸ë¡œ ë‹¤ìŒ í¬ì»¤ìŠ¤ë¡œ ì´ë™í•˜ê¸°
    
    ```kotlin
    val focusManager = LocalFocusManager.current
    
    TextField(
    	value = "",
    	onValueChange = {},
    	keyboardActions = KeyboardActions(
    		onNext = {
    			focusManager.moveFocus(FocusDirection.Down)
    		}
    	),
    	keyboardOptions = keyboardOptions(
    		imeAction = ImeAction.Next // ë‹¤ìŒ TextFieldë¡œ í¬ì»¤ìŠ¤ ì´ë™
    	)
    )
    ```
    
    - ê°•ì œ í¬ì»¤ì‹±
        
        `.focusable()` modifier ì„¤ì •í•˜ë©´ í¬ì»¤ìŠ¤ ë°›ì„ ìˆ˜ ìˆê²Œ 
        
    - focusGroup()
        
        ê´€ë ¨ í•„ë“œë“¤ì„ ê·¸ë£¹í™”í•˜ì—¬ í¬ì»¤ìŠ¤ ë¡œì§ì„ ì²˜ë¦¬í•  ë•Œ ìœ ìš©í•˜ë‹¤.
        
    
    ```kotlin
    Column(
    	modifier = Modifier
    		.fillMaxWidth()
    		.border(
    			width = 5.dp,
    			color = if(isFocused) Color.Red else Color.Gray
    		)
    		.onFocusChanged {
    			isFocused = it.hasFocus
    		}
    		.focusGroup()
    		.padding(16.dp),
    	verticalArrangement = Arrangement.spacedBy(16.dp)
    )
    ```
    
    - í¬ì»¤ìŠ¤ ì œê±°
    
    ```kotlin
    Button(
    	onClick = {
    		focusManager.clearFocus()
    	}
    )
    ```


#### UIì˜ ìƒíƒœ

ìƒíƒœê°€ ì—†ëŠ” ì»´í¬ë„ŒíŠ¸ëŠ” ìì²´ ìƒíƒœ( ex_`var cnt by remember {mutableInstateOf(0)}`)ë¥¼ ê°€ì§€ë©´ ì•ˆëœë‹¤. ê°’ì„ ì™¸ë¶€ì— ë°›ì•„ì„œ ë¿Œë¦¬ëŠ” ê²ƒì— ì§‘ì¤‘í•´ë¼. countë°ì´í„°ëŠ” ìƒì„±ìë¡œ ì™¸ë¶€ì—ì„œ í•˜ë‚˜ ë°›ê³ , onClick ì½œë°± í•˜ë‚˜ ë°›ê³ , ë‚´ë¶€ì—ì„œ onClickëˆŒë ¸ëŠ”ì§€ ë°–ì— ì•Œë ¤ì£¼ê³ .

#### Todo. SignInScreen, SignUpScreen

ë¡œê·¸ì¸ í˜ì´ì§€ë¥¼ ì˜ˆë¡œ ë“¤ë©´, 7ê°œ í´ë¦­í–ˆë‹¤. 7ê°œ ì½œë°± í•„ìš”.

íšŒì›ê°€ì… í˜ì´ì§€ ì˜ˆë¡œ ë“¤ë©´ 9ê°œ í´ë¦­í–ˆë‹¤ 9ê°œ ì½œë°± í•„ìš”(ì²´í¬ëŠ” ë‚´ë¶€ì—ì„œ ê°–ê³ ìˆëŠ”ê²Œ ì¢‹ë‚˜? ì˜ ëª¨ë¥´ê² ìœ¼ë©´ ì¼ë‹¨ ì™¸ë¶€ì— ë˜ì ¸ë¼)

ìš°ë¦¬ê°€ ë§Œë“œëŠ” uiëŠ” ì•ˆìª½ì— remember í•˜ë‚˜ë„ ì—†ê²Œ ë§Œë“¤ì–´ë¼.

íŠ¹ìˆ˜í•œ, ìì²´ ìƒíƒœ ê°€ì§€ëŠ” ê²ƒë“¤ë§Œ remember.


## ğŸ”— ì°¸ê³  ìë£Œ
- [Flow ìˆ˜ì—…](https://docs.google.com/presentation/d/1I5zqHqzSHqHQ7OCnnCdfdkwaZsTXLAaBxhKUY4w9LVg/edit#slide=id.p)
- [Kotlin Flows Animated](https://medium.com/@robert.baricevicpetrus/kotlin-flows-animated-55640aa48ac9)
- [Modifier ìˆ˜ì—…](https://docs.google.com/presentation/d/1DJd1yUzTbqiNm6m6e5v1tkX4-KkIaNKjZSutOe7h3vo/edit#slide=id.p)
- [ì»´í¬ì¦ˆ ë ˆì´ì•„ì›ƒ ê¸°ë³¸](https://developer.android.com/reference/kotlin/androidx/compose/foundation/layout/package-summary)
- [UI ë ˆì´ì•„ì›ƒ ì˜ˆì‹œ](https://tech.wonderwall.kr/articles/composelayout/body/)
- [WindowInsets](https://developer.android.com/develop/ui/compose/layouts/insets?hl=ko)
- [ì‚¬ìš©ì ìƒí˜¸ì‘ìš© ì²˜ë¦¬](https://developer.android.com/develop/ui/compose/touch-input/user-interactions/handling-interactions?hl=ko)
- [í¬ì»¤ìŠ¤ ìˆœíšŒ ìˆœì„œ ë³€ê²½(íšŒì›ê°€ì…í¼ì— ì‘ìš©)](https://developer.android.com/develop/ui/compose/touch-input/focus/change-focus-traversal-order?hl=ko)